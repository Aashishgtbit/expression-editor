(this["webpackJsonpexpression-editor"]=this["webpackJsonpexpression-editor"]||[]).push([[0],{55:function(t,e,n){},60:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var r=n(4),i=n(0),a=n.n(i),s=n(20),o=n.n(s),c=n(22),l=n(40),u=n(7),h=n(25),x=n(36),b={control:{backgroundColor:"#fff",fontSize:14,fontWeight:"normal"},"&multiLine":{control:{fontFamily:"ABBVoice",minHeight:63},highlighter:{padding:9,border:"1px solid transparent"},input:{padding:9,border:"1px solid silver"}},"&singleLine":{display:"inline-block",width:180,highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset"}},suggestions:{list:{backgroundColor:"white",border:"1px solid rgba(0,0,0,0.15)",fontSize:14},item:{padding:"5px 15px","&focused":{backgroundColor:"#6d28d9",color:"#fff"}}}},d=(n(55),n(14)),f=n(13),p=n(26),j=n(10),v=n(9),k=["&&",">","<","<=",">=","==","||","!="],m=function t(e,n){Object(v.a)(this,t),this.text=void 0,this.index=void 0,this.kind=void 0,this.text=e,this.index=n,/^\$'[A-Za-z_][A-Za-z_0-9]+'/.test(e)?this.kind="variable":/^[A-Za-z_]/.test(e)?this.kind="identifier":/^[0-9]/.test(e)?this.kind="number":this.kind="operator"},g=function(){function t(e,n){Object(v.a)(this,t),this.nextTokenIndex=void 0,this.tokenList=void 0,this.variablesList=void 0,this.variablesList=Object(p.a)(n),this.nextTokenIndex=0,this.tokenList=[];for(var r=/\S/g,i=new RegExp(/[0-9]+(\.[0-9]*)?([eE][+-]?[0-9]+)?/.source+"|"+/AND|OR|and|or|XOR|&&|<=|>=|<|>|!=|==|&|OR*|!|\|{1,2}/.source+"|"+/\$'[A-Za-z_][A-Za-z_0-9]+'+((\[([0-9]+)\])*)?/.source+"|"+/[A-Za-z_][A-Za-z_0-9]*/.source+"|"+r.source,r.flags);;){var a=i.exec(e);if(null===a)break;this.tokenList.push(new m(a[0],a.index))}}return Object(j.a)(t,[{key:"Parse",value:function(){var t=this.ParseExpr();if(this.nextTokenIndex<this.tokenList.length)throw{name:"SyntaxError",message:"Syntax error",token:this.tokenList[this.nextTokenIndex]};return t}},{key:"ParseExpr",value:function(){for(var t,e=this.ParseMulExpr();t=this.NextTokenIs(["+","-"]);){var n=this.ParseMulExpr();e="+"===t.text?new y(t,e,n):new P(t,e,n)}return e}},{key:"ParseMulExpr",value:function(){for(var t,e=this.parseLogicalExpr();t=this.NextTokenIs(["*","/"]);){var n=this.parseLogicalExpr();e="*"===t.text?new w(t,e,n):new _(t,e,n)}return e}},{key:"parseLogicalExpr",value:function(){for(var t,e=this.ParsePowExpr();t=this.NextTokenIs([].concat(k));){var n=this.parseLogicalExpr();e=new E(t,e,n)}return e}},{key:"ParsePowExpr",value:function(){for(;this.NextTokenIs(["+"]););var t;if(this.NextTokenIs(["-"])){var e=this.GetNextToken(),n=this.ParsePowExpr();return new L(e,n)}var r=this.ParseAtom();if(t=this.NextTokenIs(["^"])){var i=this.ParsePowExpr();return new T(t,r,i)}return r}},{key:"ParseAtom",value:function(){var t=this.GetNextToken();if("variable"===t.kind){if(this.NextTokenIs(["("])){var e=[this.ParseExpr()];return this.ExpectToken(")"),new S(t,e)}return new M(t,this.variablesList)}if("identifier"===t.kind){if(this.NextTokenIs(["("])){var n=[this.ParseExpr()];return this.ExpectToken(")"),new S(t,n)}return new A(t)}if("number"===t.kind)return new N(t);if("("===t.text){var r=this.ParseExpr();return this.ExpectToken(")"),r}throw{name:"SyntaxError",message:"Expected identifier, number, function, or parenthesized expression.",token:t}}},{key:"PeekNextToken",value:function(){return this.nextTokenIndex<this.tokenList.length?this.tokenList[this.nextTokenIndex]:null}},{key:"GetNextToken",value:function(){if(this.nextTokenIndex<this.tokenList.length)return this.tokenList[this.nextTokenIndex++];throw{name:"SyntaxError",message:0!==this.tokenList.length?"Unexpected end of expression":"Logic Value cannot be left empty.",token:null}}},{key:"NextTokenIs",value:function(t){if(this.nextTokenIndex<this.tokenList.length){var e=this.tokenList[this.nextTokenIndex].text;if(t.indexOf(e)>=0)return this.tokenList[this.nextTokenIndex++]}return null}},{key:"ExpectToken",value:function(t){var e=this.PeekNextToken();if(null===e||e.text!==t){console.log("token :",e,t);var n="Syntax error";throw null==e&&(n='Expected "'+t+'"'),{name:"SyntaxError",message:n,token:e}}return this.tokenList[this.nextTokenIndex++]}}]),t}(),O=function(){function t(e,n,r){Object(v.a)(this,t),this.precedence=void 0,this.optoken=void 0,this.arglist=void 0,this.precedence=e,this.optoken=n,this.arglist=r}return Object(j.a)(t,[{key:"PrettyMath",value:function(){throw{name:"InternalError",message:"Do not know how to convert expression to TeX.",token:this.optoken}}},{key:"PrettyMath_Binary_LeftAssoc",value:function(t){var e=this.arglist[0].PrettyMath(),n=this.arglist[1].PrettyMath();return this.arglist[0].precedence<this.precedence&&(e="\\left("+e+"\\right)"),this.arglist[1].precedence<=this.precedence&&(n="\\left("+n+"\\right)"),e+(t||this.optoken.text)+n}},{key:"PrettyMath_Binary_RightAssoc",value:function(){var t=this.arglist[0].PrettyMath(),e=this.arglist[1].PrettyMath();return this.arglist[0].precedence<=this.precedence&&(t="\\left("+t+"\\right)"),e=this.arglist[1].precedence<this.precedence?"\\left("+e+"\\right)":"{"+e+"}",t+this.optoken.text+e}},{key:"PrettyMath_SingleArg",value:function(){if(1!==this.arglist.length)throw{name:"FormatError",message:'The function "'.concat(this.optoken.text,'" requires exactly one argument.'),token:this.optoken};return this.arglist[0].PrettyMath()}}]),t}(),y=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,1,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return this.PrettyMath_Binary_LeftAssoc()}}]),n}(O),P=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,1,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return this.PrettyMath_Binary_LeftAssoc()}}]),n}(O),w=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,2,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return this.PrettyMath_Binary_LeftAssoc(" ")}}]),n}(O),_=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,2,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return"\\frac{"+this.arglist[0].PrettyMath()+"}{"+this.arglist[1].PrettyMath()+"}"}}]),n}(O),E=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,2,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return this.PrettyMath_Binary_LeftAssoc()}}]),n}(O),T=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r,i){return Object(v.a)(this,n),e.call(this,4,t,[r,i])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){return this.PrettyMath_Binary_RightAssoc()}}]),n}(O),L=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r){return Object(v.a)(this,n),e.call(this,3,t,[r])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){var t=this.arglist[0].PrettyMath();return this.arglist[0].precedence<this.precedence?"-\\left("+t+"\\right)":"-"+t}}]),n}(O);var M=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r){var i;return Object(v.a)(this,n),(i=e.call(this,9,t,[])).variablesList=void 0,i.variablesList=Object(p.a)(r),i}return Object(j.a)(n,[{key:"PrettyMath",value:function(){var t=this.optoken.text.length,e=this.optoken.text.indexOf("[");-1===e&&(e=t);var n=this.optoken.text.substring(0,e);if(/^\$'[A-Za-z_][A-Za-z_0-9]+'+((\[([0-9]+)\])*)?$/.test(this.optoken.text)&&function(t,e){var n=!1;return t.forEach((function(t){"$'".concat(t,"'")===e&&(n=!0)})),n}(this.variablesList,n))return this.optoken.text;throw{name:"FormatError",message:"The variable ".concat(this.optoken.text," is not valid. Must be a valid input name ."),token:this.optoken}}}]),n}(O),A=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){return Object(v.a)(this,n),e.call(this,9,t,[])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){if(/^[A-Za-z_][A-Za-z_0-9]*$/.test(this.optoken.text))return this.optoken.text;throw{name:"FormatError",message:"The identifier ".concat(this.optoken.text," is not valid. Must be a Latin letter or the name of a Greek letter."),token:this.optoken}}}]),n}(O),N=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){return Object(v.a)(this,n),e.call(this,9,t,[])}return Object(j.a)(n,[{key:"PrettyMath",value:function(){var t=this.optoken.text.match(/^([^eE]+)[eE](.*)$/);return t?t[1]+" \\times 10^{"+t[2]+"}":this.optoken.text}}]),n}(O),S=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t,r){return Object(v.a)(this,n),e.call(this,9,t,r)}return Object(j.a)(n,[{key:"PrettyMath",value:function(){switch(this.optoken.text){case"sqrt":return"\\sqrt{"+this.PrettyMath_SingleArg()+"}";case"abs":return"\\left|"+this.PrettyMath_SingleArg()+"\\right|";case"cos":case"sin":return"\\"+this.optoken.text+"\\left("+this.PrettyMath_SingleArg()+"\\right)";default:throw{name:"FormatError",message:'Unknown function "'+this.optoken.text+'"',token:this.optoken}}}}]),n}(O),I=n(21),V=Object(I.b)((function(t){return{availableVariables:t.home.availableVariables}}))((function(t){var e=Object(i.useState)(""),n=Object(h.a)(e,2),a=n[0],s=n[1],o=Object(i.useState)(""),c=Object(h.a)(o,2),l=c[0],u=c[1],d=document.getElementsByClassName("customMentionInput__highlighter__substring"),f=Object(i.useMemo)((function(){var e=[];return t.availableVariables.forEach((function(t){var n={id:t,display:t};e.push(n)})),e}),[t.availableVariables]),p=Object(i.useCallback)((function(){var e=new g(a,t.availableVariables);try{var n=e.Parse();n.PrettyMath();console.log("expr :",n),u("")}catch(c){console.log("exp :",c);var r=c.token;if(r&&d.length>0){var i=a.substring(0,r.index),s=a.substring(r.index,r.index+r.text.length+1),o="".concat(i,'<span style="text-decoration:underline; text-decoration-color:red;text-decoration-style: wavy; background-color: rgba(255,0,0,0.2);" >').concat(r.text,"</span>").concat(s,"  ");d[0].innerHTML=o}u(c.message)}}),[d,a,t.availableVariables]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wrapper-expression-input",children:Object(r.jsx)(x.b,{className:"customMentionInput",id:"logicTextArea",value:a,onChange:function(t,e,n){s(n)},style:b,children:Object(r.jsx)(x.a,{trigger:/(?:^|)(\$([^\s$]*))$/,markup:"$[____display____]",data:f,displayTransform:function(t,e){return"$'".concat(e,"'")},appendSpaceOnAdd:!0})})}),Object(r.jsx)("div",{className:" h-8 mt-4 flex  text-red-700 ",children:l}),Object(r.jsx)("div",{className:"flex-auto flex space-x-3",children:Object(r.jsx)("button",{onClick:p,className:"focus:border-purple-500 focus:ring-1 focus:ring-purple-500 focus:outline-none w-32 h-8 mt-4 flex items-center justify-center rounded-full bg-purple-700 text-white",type:"submit",children:"Set"})})]})})),C=function(t){return Object(r.jsxs)("div",{className:"sticky top-0 p-4 z-40 lg:z-50 w-full max-w-8xl mx-auto bg-purple-700 flex-none flex ",children:[Object(r.jsx)("div",{className:"flex-none pl-4 sm:pl-6 xl:pl-8 flex items-center  lg:border-b-0 lg:w-60 xl:w-72 text-white text-xl",children:"Expression Editor"}),Object(r.jsxs)("div",{className:" flex-1  text-white  h-18 flex items-center justify-between px-4 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8",children:[" ",Object(r.jsx)("div",{className:"ml-auto",children:Object(r.jsx)("a",{href:"https://github.com/Aashishgtbit/expression-editor",target:"_blank",rel:"noreferrer",children:"Github"})})]})]})},z="ADD_TO_AVAILABLE_VARIABLES",B=Object(I.b)((function(t){return{availableVariables:t.home.availableVariables}}),(function(t){return{addToVariables:function(e){t({type:z,payload:e})}}}))((function(t){var e=Object(i.useState)(""),n=Object(h.a)(e,2),a=n[0],s=n[1],o=function(e){e.preventDefault(),t.addToVariables(a),s("")};return Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{className:"text-l  font-bold",children:"Variable Generator"}),Object(r.jsxs)("form",{onSubmit:o,children:[Object(r.jsx)("input",{className:" pl-2 focus:border-purple-500  ring-1 ring-purple-700 focus:ring-2 focus:ring-purple-500 focus:outline-none rounded   h-8 mt-4  items-center justify-center ",type:"text",value:a,placeholder:"Enter varaible name",onChange:function(t){var e=t.target.value;s(e)}}),Object(r.jsx)("button",{onClick:o,className:"focus:border-purple-500  ml-5 focus:ring-1 focus:ring-purple-500 focus:outline-none w-16 h-8 mt-4  items-center justify-center rounded-full bg-purple-700 text-white",children:"Add"})]}),Object(r.jsxs)("div",{className:"mt-4",children:[Object(r.jsx)("div",{className:"text-l  font-bold",children:"Available Variables"}),Object(r.jsx)("ul",{children:t.availableVariables.length?t.availableVariables.map((function(t){return Object(r.jsx)("li",{children:t})})):Object(r.jsx)("li",{children:"No Variables Found! "})})]})]})}));n(60);var F=[{path:"/",component:function(t){return Object(r.jsxs)("div",{className:"wrapper-home-screen",children:[Object(r.jsx)(C,{}),Object(r.jsxs)("div",{className:" flex-1 flex mx-auto flex-row pt-20  items-center ali md:container md:mx-auto  max-w-sm min-w-max ",children:[Object(r.jsx)("div",{className:" h-full flex-1 flex mx-auto flex-col   ali md:container md:mx-auto  max-w-sm min-w-max",children:Object(r.jsx)(V,{})}),Object(r.jsx)("div",{className:" h-full flex-1 flex mx-auto flex-col  items-center ali md:container md:mx-auto  max-w-sm min-w-max",children:Object(r.jsx)(B,{})})]})]})},name:"Home",exact:!0}],R=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/expression-editor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_URL:"/expression-editor/"})),Object(r.jsx)(l.a,{basename:"/expression-editor/",children:Object(r.jsx)(u.c,{children:F.map((function(t){return Object(r.jsx)(u.a,{exact:t.exact||!0,path:t.path,render:function(e){return Object(r.jsx)(t.component,Object(c.a)({},e))}},"".concat(t.name))}))})})},$=n(41),Z=n.n($),D=n(42),G=n(18),H=n(35),U=n.n(H),W=n(43),q=[],K=U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.a)(q);case 2:case"end":return t.stop()}}),t)})),J={availableVariables:[]},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z:var n=e.payload,r=[].concat(Object(p.a)(t.availableVariables),[n]);return Object(c.a)(Object(c.a)({},t),{},{availableVariables:r});default:return Object(c.a)({},t)}},Q=Object(G.c)({home:X});var Y=Object(D.a)();[].push(Y);var tt=function(){var t=Object(G.e)(Q,Object(G.a)(Z.a,Y));return Y.run(K),{store:t}}().store;var et=function(){return Object(r.jsx)(I.a,{store:tt,children:Object(r.jsx)(R,{})})},nt=(n(65),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),i(t),a(t),s(t)}))});o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(et,{})}),document.getElementById("root")),nt()}},[[66,1,2]]]);
//# sourceMappingURL=main.96cfb831.chunk.js.map